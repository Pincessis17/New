<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{{ title or "PharmacyApp" }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body { font-family: system-ui, Arial, sans-serif; margin: 24px; }
      .nav { margin-bottom: 16px; }
      .nav a { margin-right: 12px; text-decoration: none; }
      .container { max-width: 720px; }
      .flash { padding: 10px 12px; border-radius: 6px; margin: 8px 0; }
      .flash.error { background: #fee2e2; color: #7f1d1d; }
      .flash.success { background: #dcfce7; color: #14532d; }
      .flash.info { background: #dbeafe; color: #1e3a8a; }
      form { display: grid; gap: 10px; }
      input[type="email"], input[type="password"] { padding: 10px; font-size: 16px; }
      button { padding: 10px 12px; font-size: 16px; cursor: pointer; }
      .right { float: right; }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="nav">
        <a href="{{ url_for('home') }}">Home</a>
        <a href="{{ url_for('sales.sales_home') }}">Sales</a>
        <a href="{{ url_for('inventory.inventory_home') }}">Inventory</a>
        <a href="{{ url_for('reports.reports_home') }}">Reports</a>
        {% if session.get('user') %}
          <span class="right">Hi, {{ session.user.name }} â€” <a href="{{ url_for('auth.logout') }}">Logout</a></span>
        {% else %}
          <span class="right"><a href="{{ url_for('auth.login') }}">Login</a></span>
        {% endif %}
        <div style="clear: both;"></div>
      </div>

      {% with messages = get_flashed_messages(with_categories=True) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="flash {{ category }}">{{ message }}</div>
          {% endfor %}
        {% endif %}
      {% endwith %}

      {% block content %}{% endblock %}
    </div>
  </body>
</html>
